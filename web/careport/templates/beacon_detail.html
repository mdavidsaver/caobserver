{% extends "base.html" %}

{% load tz %}
{% load math %}
{% load cycle from future %}

{% block title %} - Server Details{% endblock %}
{% block banner %} - Server Details{% endblock %}

{% block main %}
<table class="catable"><tbody>

<tr><th>Server</th>
<td><a href="{% url "host_detail" object.source.host %}">{{object.source.host}}</a>:{{object.source.port}}</td>
</tr>
<tr><th>CA Version</th><td>{{object.ver}}</td></tr>
<tr><th>First seen</th><td>{{object.seenFirst|localtime|date:'r'}}</td></tr>
<tr><th>Last seen</th><td>{{object.seenLast|localtime|date:'r'}}</td></tr>
{% if object.seenFirst and object.seenLast %}
<tr><th>Uptime</th><td>{{object.seenFirst|sub:object.seenLast}}</td></tr>
{% endif %}
</tbody></table>

<h4>Recent History</h4>

<table class="catable"><thead>
<tr><th>Beacon</th><th>Time</th></tr>
</thead><tbody>
{% for ent in object.hist %}
<tr class="{% cycle 'even' 'odd' %}">
<td>{{ ent.seq }}</td><td>{{ent.time|localtime|date:'r'}}</td>
</tr>
{% empty %}
<tr><td><b>None</b></td><td><b>None</b></td></tr>
{% endfor %}
</tbody></table>

{% endblock %}
